# ๐ง ุญู ุงููุดุงูู - Troubleshooting

## โ ูุดููุฉ: ุงุณู ุงููุฌูุฏ ูุง ูุฒุงู ุบุฑูุจ

### ุงูุฃุนุฑุงุถ:
```
ุชุญููู ุงููุฑููุงุช ุฅูู:
downloads/CTawqUkTE7YbwNdHDbc40A==/

ุจุฏูุงู ูู:
downloads/ุตูุงูุฉ_ูุชุทููุฑ_ุงูุฅุชุตุงูุงุช_9022010158/
```

### ุงูุณุจุจ:
ุงูุตูุญุฉ ูู ูุชู ุชุญุฏูุซูุง ุจุนุฏ ุงูุชุนุฏููุงุช ุนูู JavaScript

### โ ุงูุญู:

1. **ุชุญุฏูุซ ูุงูู ููุตูุญุฉ** (ููู ุฌุฏุงู):
   ```
   ุงุถุบุท: Ctrl + Shift + R
   
   ุฃู
   
   Ctrl + F5
   ```
   ูุฐุง ูุญุฐู ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ (Cache) ููุฌูุจ ุฃุญุฏุซ ูุณุฎุฉ ูู JavaScript

2. **ุงุฌูุจ ุงูููุงูุตุงุช ูุฑุฉ ุฃุฎุฑู**:
   - ุงุถุบุท "๐ ุฌูุจ ููุงูุตุงุช ุฌุฏูุฏุฉ"
   - ุงูุชุธุฑ ุญุชู ุชุธูุฑ ุงูุจุทุงูุงุช

3. **ุฌุฑุจ ุงูุชุญููู**:
   - ุงุถุบุฑ "๐ฅ ุชุญููู ุงููุฑููุงุช"
   - ุชุญูู ูู ุงุณู ุงููุฌูุฏ ูู `downloads/`

---

## โ ูุดููุฉ: ุฎุทุฃ 500 ุนูุฏ ุชุญููู PDF

### ุงูุฃุนุฑุงุถ:
```
GET http://127.0.0.1:5000/api/tender/.../download-pdf 500 (INTERNAL SERVER ERROR)
โ๏ธ Failed to download PDF, but attachments were downloaded
```

### ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:

#### 1. **ูุดููุฉ ูู ุงูููููุฒ**
ุงูููููุฒ ููุชููุฉ ุงูุตูุงุญูุฉ ุฃู ุบูุฑ ุตุญูุญุฉ

**ุงูุญู:**
- ุงุถุบุท "๐ช ุชุญุฏูุซ ุงูููููุฒ"
- ุงูุตู ููููุฒ ุฌุฏูุฏุฉ ูู ุฅุถุงูุฉ ุงููุชุตูุญ
- ุฌุฑุจ ูุฑุฉ ุฃุฎุฑู

#### 2. **HTML ุงูุตูุญุฉ ูุงุฑุบ ุฃู ุตุบูุฑ ุฌุฏุงู**
ุงูุตูุญุฉ ูุง ุชุญุชูู ุนูู ูุญุชูู

**ุงูุญู:**
- ุชุญูู ูู ุฃู ุงูููุงูุตุฉ ุชุญุชูู ุนูู "ูุฑุงุณุฉ ุงูุดุฑูุท ูุงูููุงุตูุงุช"
- ุจุนุถ ุงูููุงูุตุงุช ูุฏ ูุง ุชุญุชูู ุนูู ูุฐุง ุงููุณุชูุฏ

#### 3. **ูุดููุฉ ูู WeasyPrint**
ููุชุจุฉ ุชุญููู PDF ุบูุฑ ูุซุจุชุฉ ุจุดูู ุตุญูุญ

**ุงูุญู:**
```powershell
pip uninstall weasyprint
pip install weasyprint==60.2
```

---

## โ ูุดููุฉ: tenderName ู referenceNumber ูุงุฑุบูู

### ุงูุฃุนุฑุงุถ:
```
GET /api/tender/.../download?tenderName=&referenceNumber=
```

### ุงูุณุจุจ:
JavaScript ุงููุฏูู ูู ุฐุงูุฑุฉ ุงููุชุตูุญ ุงููุคูุชุฉ

### โ ุงูุญู:

**ุฎุทูุงุช ูููุฉ:**

1. **ุชุญุฏูุซ ูุงูู** (ุฅูุฒุงูู):
   ```
   Ctrl + Shift + R
   ```

2. **ุงูุชุญูู ูู Console**:
   - ุงูุชุญ Developer Tools: `F12`
   - ุงุฐูุจ ุฅูู Console
   - ุงุญุฐู ุงูุฃุฎุทุงุก ุงููุฏููุฉ: `Clear console`

3. **ุฅุนุงุฏุฉ ุฌูุจ ุงูููุงูุตุงุช**:
   - ุงุถุบุท "๐ ุฌูุจ ููุงูุตุงุช ุฌุฏูุฏุฉ"
   - ูุฌุจ ุฃู ุชุญุชูู ุงูุจุทุงูุงุช ุนูู:
     * `.tender-name` class ูู ุงูุนููุงู
     * `.reference-number` class ูู ุงูุฑูู ุงููุฑุฌุนู

4. **ุงุฎุชุจุงุฑ**:
   - ุฌุฑุจ ุงูุชุญููู ูุฑุฉ ุฃุฎุฑู
   - ุชุญูู ูู Console ุฃู URL ูุญุชูู ุนูู ุงูููู:
     ```
     tenderName=ุตูุงูุฉ%20ูุชุทููุฑ&referenceNumber=9022010158
     ```

---

## ๐งช ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช

### 1. **ุชุญูู ูู JavaScript ูุญุฏุซ:**

ุงูุชุญ Developer Tools (`F12`) โ Console โ ุงูุชุจ:
```javascript
// ูุฌุจ ุฃู ูุญุชูู ุงูุนููุงู ุนูู class "tender-name"
document.querySelector('.tender-name')

// ูุฌุจ ุฃู ูุญุชูู ุงูุฑูู ุงููุฑุฌุนู ุนูู class "reference-number"  
document.querySelector('.reference-number')
```

ุฅุฐุง ุธูุฑ `null`ุ ูุนูุงูุง ุงูุชุญุฏูุซ ูู ูุทุจู โ ุงุถุบุท `Ctrl + Shift + R`

### 2. **ุชุญูู ูู Flask ูุนูู:**

Terminal ูุฌุจ ุฃู ูุธูุฑ:
```
โ Loaded 6 cookies from 2025-10-13T14:39:15.460278
* Debugger is active!
* Running on http://127.0.0.1:5000
```

### 3. **ุชุญูู ูู ุงููุฌูุฏ:**

ุจุนุฏ ุงูุชุญูููุ ุงููุฌูุฏ ูุฌุจ ุฃู ูููู:
```
downloads/
โโโ ุงุณู_ูุงุถุญ_ููููุงูุตุฉ_ุงูุฑูู_ุงููุฑุฌุนู/
    โโโ ูุฑุงุณุฉ_ุงูุดุฑูุท_ูุงูููุงุตูุงุช.pdf
    โโโ ูุฑููุงุช ุฃุฎุฑู...
```

---

## ๐ Checklist ููุชุญููู ุงููุงุฌุญ

- [ ] Flask ูุนูู (`python app.py`)
- [ ] ุงูููููุฒ ูุญุฏุซุฉ ูุตุงูุญุฉ (6 cookies ุฃู ุฃูุซุฑ)
- [ ] ุงูุตูุญุฉ ุชู ุชุญุฏูุซูุง ุจุงููุงูู (`Ctrl + Shift + R`)
- [ ] ุงูููุงูุตุงุช ุชู ุฌูุจูุง ูู API
- [ ] Console ูุธูู ุจุฏูู ุฃุฎุทุงุก CORS
- [ ] ุงุณู ุงูููุงูุตุฉ ูุธูุฑ ูู ุงูุจุทุงูุฉ
- [ ] ุงูุฑูู ุงููุฑุฌุนู ูุธูุฑ ูู ุงูุจุทุงูุฉ

---

## ๐ ูุง ุฒุงูุช ุงููุดููุฉ ููุฌูุฏุฉุ

### ุฃุฑุณู ูุฐู ุงููุนูููุงุช:

1. **ูู Console** (`F12` โ Console):
   ```javascript
   // ูุณุฎ output ูุฐุง ุงูุฃูุฑ:
   console.log({
     tenderName: document.querySelector('.tender-name')?.textContent,
     referenceNumber: document.querySelector('.reference-number')?.textContent,
     hasClasses: {
       tenderName: !!document.querySelector('.tender-name'),
       referenceNumber: !!document.querySelector('.reference-number')
     }
   });
   ```

2. **ูู Terminal** (ุขุฎุฑ 20 ุณุทุฑ):
   ```powershell
   # ูู Terminal Flask
   # ูุณุฎ ุขุฎุฑ ุงูุฃุณุทุฑ ุจุนุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุชุญููู
   ```

3. **ุงุณู ุงููุฌูุฏ ุงูุญุงูู**:
   ```
   # ุงููุฌูุฏ ุงูุฐู ุชู ุฅูุดุงุคู ูู downloads/
   ```
