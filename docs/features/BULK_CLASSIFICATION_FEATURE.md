# ููุฒุฉ ูุญุต ุงูุชุตููู ุงูุฌูุงุนู - Bulk Classification Check Feature

ุชู ุงูุฅุถุงูุฉ: 13 ุฃูุชูุจุฑ 2025

## ุงููุตู / Description

ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ููุญุต ุงูุชุตููู ูุฌููุน ุงูููุงูุณุงุช ูุฑุฉ ูุงุญุฏุฉุ ูุญุฐู ุงูููุงูุณุงุช ุงูุชู ุชุชุทูุจ ุชุตูููุงู ุชููุงุฆูุงู.

A new feature to check classification for all tenders at once and automatically delete those requiring classification.

---

## ุงูููุฒุงุช / Features

### โ ูุญุต ุฌูุงุนู
- ููุญุต ุงูุชุตููู ูุฌููุน ุงูููุงูุณุงุช ุงููุนุฑูุถุฉ
- ูุนูู ุจุดูู ุชููุงุฆู ุฏูู ุชุฏุฎู ูุฏูู
- ูุนุฑุถ ุชูุฏู ุงูุนูููุฉ ูู ุงูููุช ุงููุนูู

### ๐๏ธ ุญุฐู ุชููุงุฆู
- ูุญุฐู ุงูููุงูุณุงุช ุงูุชู ุชุชุทูุจ ุชุตูููุงู ุชููุงุฆูุงู
- ูุจูู ููุท ุงูููุงูุณุงุช ุงูุชู ูุง ุชุชุทูุจ ุชุตููู ุฃู "ุบูุฑ ูุทููุจ"
- ูุญุฏุซ ุงูุนุฏุงุฏ ุชููุงุฆูุงู ุจุนุฏ ูู ุนูููุฉ ุญุฐู

### ๐ ุชูุฑูุฑ ุดุงูู
- ูุนุฑุถ ููุฎุต ูุงูู ุจุนุฏ ุงูุชูุงุก ุงูุนูููุฉ:
  * ุนุฏุฏ ุงูููุงูุณุงุช ุงูุชู ุชู ูุญุตูุง
  * ุนุฏุฏ ุงูููุงูุณุงุช ุงููุญุฐููุฉ
  * ุนุฏุฏ ุงูููุงูุณุงุช ุงููุชุจููุฉ
  * ุนุฏุฏ ุงูุฃุฎุทุงุก (ุฅู ูุฌุฏุช)

---

## ููููุฉ ุงูุงุณุชุฎุฏุงู / How to Use

### ุงูุฎุทูุฉ 1: ุฌูุจ ุงูููุงูุณุงุช
1. ุงูุชุญ http://127.0.0.1:5000
2. ุงุถุบุท ุนูู ุฒุฑ "ุฌูุจ ุงูููุงูุณุงุช"
3. ุงูุชุธุฑ ุญุชู ุชุธูุฑ ุงูููุงูุณุงุช

### ุงูุฎุทูุฉ 2: ูุญุต ุงูุชุตููู
1. ุณูุธูุฑ ุฒุฑ ุฌุฏูุฏ: **"๐ ูุญุต ุงูุชุตููู ูุญุฐู ุงููุทููุจ"**
2. ุงุถุบุท ุนูู ุงูุฒุฑ
3. ุณุชุธูุฑ ุฑุณุงูุฉ ุชุฃููุฏ:
   ```
   ูู ุฃูุช ูุชุฃูุฏ ูู ูุญุต ุงูุชุตููู ูุฌููุน ุงูููุงูุณุงุช (X)ุ
   
   ุณูุชู ุญุฐู ุงูููุงูุณุงุช ุงูุชู ุชุชุทูุจ ุชุตูููุงู ุชููุงุฆูุงู.
   ```
4. ุงุถุบุท "OK" ูููุชุงุจุนุฉ

### ุงูุฎุทูุฉ 3: ูุฑุงูุจุฉ ุงูุชูุฏู
- ูุชุบูุฑ ูุต ุงูุฒุฑ ุฅูู: **"โณ ูุญุต X/Y..."**
- ูุนุฑุถ ุงูุชูุฏู ูู ุงูููุช ุงููุนูู
- ุชูุญุฐู ุงูููุงูุณุงุช ุชููุงุฆูุงู ูุน ุฑุณูู ูุชุญุฑูุฉ

### ุงูุฎุทูุฉ 4: ูุฑุงุฌุนุฉ ุงููุชุงุฆุฌ
ุจุนุฏ ุงูุชูุงุก ุงูุนูููุฉุ ุชุธูุฑ ุฑุณุงูุฉ ููุฎุต:
```
โ ุชู ุงููุญุต!

๐ ุชู ูุญุต: 50 ููุงูุณุฉ
๐๏ธ ุชู ุญุฐู: 15 ููุงูุณุฉ (ุชุชุทูุจ ุชุตููู)
โ ุงููุชุจูู: 35 ููุงูุณุฉ
```

---

## ุงูุชูุงุตูู ุงูุชูููุฉ / Technical Details

### ุงููููุงุช ุงููุนุฏูุฉ / Modified Files

#### 1. `templates/index.html`
ุฃูุถูู ุฒุฑ ุฌุฏูุฏ ูู ููุทูุฉ ุงูุฃุฒุฑุงุฑ:
```html
<button id="checkClassificationBtn" class="btn-check-classification" style="display: none;">
    ๐ ูุญุต ุงูุชุตููู ูุญุฐู ุงููุทููุจ
</button>
```

#### 2. `static/style.css`
ุฃูุถููุช ุฃููุงุท ููุฒุฑ ุงูุฌุฏูุฏ:
```css
.btn-check-classification {
    background: #ff6b6b;  /* ุฃุญูุฑ */
    color: white;
    padding: 15px 30px;
    font-size: 1rem;
    font-weight: bold;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
}
```

#### 3. `static/script.js`
ุฃูุถููุช ูุธููุฉ `checkAllClassifications()` ุงูุชู:

1. **ุชุฌูุน ุฌููุน ุงูููุงูุณุงุช**:
   ```javascript
   const allCards = document.querySelectorAll('.tender-card');
   ```

2. **ุชุทูุจ ุงูุชุฃููุฏ ูู ุงููุณุชุฎุฏู**:
   ```javascript
   const confirmed = confirm('ูู ุฃูุช ูุชุฃูุฏ...?');
   ```

3. **ุชูุญุต ูู ููุงูุณุฉ**:
   ```javascript
   for (const card of allCards) {
       const response = await fetch(`/api/tender/${tenderIdStr}/classification`);
       const data = await response.json();
       
       if (data.success && data.requires_classification) {
           // ุญุฐู ุงูููุงูุณุฉ
       }
   }
   ```

4. **ุชุญุฏุซ ุงููุงุฌูุฉ**:
   - ูุญุฐู ุงูุจุทุงูุฉ ูู DOM
   - ูุญุฏุซ ุงูุนุฏุงุฏ
   - ูุนุฑุถ ุงูุชูุฏู ุนูู ุงูุฒุฑ

5. **ุชุนุฑุถ ุงูููุฎุต ุงูููุงุฆู**:
   ```javascript
   alert(`โ ุชู ุงููุญุต!\n\n...`);
   ```

---

## ุขููุฉ ุงูุนูู / How It Works

### 1. Fetch Classification (ุฌูุจ ุงูุชุตููู)
```
Frontend                Backend                    Etimad API
   |                       |                           |
   |-- GET /api/tender/X/classification ------------->|
   |                       |-- GetRelationsDetails --->|
   |                       |<-- HTML Response ---------|
   |                       | (Parse with BeautifulSoup)|
   |<-- JSON Response -----|                           |
   | {                     |                           |
   |   classification: "", |                           |
   |   requires: true/false|                           |
   | }                     |                           |
```

### 2. Delete Tender (ุญุฐู ุงูููุงูุณุฉ)
```
Frontend                Backend
   |                       |
   |-- DELETE /api/tender/X/delete --------->|
   |<-- JSON { success: true } --------------|
   | (Remove card from DOM)                  |
```

### 3. Loop Process (ุนูููุฉ ุงูุชูุฑุงุฑ)
```
[Start] --> For each tender:
              |
              +--> Fetch Classification
              |      |
              |      +--> If requires_classification == true
              |            |
              |            +--> Delete tender
              |            +--> Remove from UI
              |
              +--> Update progress counter
              +--> Sleep 500ms (avoid overwhelming server)
              |
            [Next tender]
              |
            [Done] --> Show summary alert
```

---

## ุงูุฃุฏุงุก / Performance

### ูุนุฏู ุงููุญุต / Check Rate
- **500ms** ุชุฃุฎูุฑ ุจูู ูู ุทูุจ
- **~2 ุทูุจุงุช/ุซุงููุฉ** (120 ุทูุจ/ุฏูููุฉ)
- **ูู 50 ููุงูุณุฉ**: ุญูุงูู 25 ุซุงููุฉ
- **ูู 100 ููุงูุณุฉ**: ุญูุงูู 50 ุซุงููุฉ

### ุงูุญูู ุนูู ุงูุฎุงุฏู / Server Load
- ุทูุจุงุช ูุชุณูุณูุฉ (ููุณุช ูุชูุงุฒูุฉ) ูุชุฌูุจ ุงูุญูู ุงูุฒุงุฆุฏ
- ุชุฃุฎูุฑ 500ms ุจูู ุงูุทูุจุงุช
- ุงุณุชุฎุฏุงู ููุณ ุงูููููุฒ ูุงูุฌูุณุฉ

---

## ุงูุฃูุงู / Security

### โ ุชุฃููุฏ ุงููุณุชุฎุฏู
- ูุทูุจ ุชุฃููุฏ ูุจู ุงูุจุฏุก ุจุงูุนูููุฉ
- ูุนุฑุถ ุนุฏุฏ ุงูููุงูุณุงุช ุงูุชู ุณุชููุญุต
- ููุถุญ ุฃู ุงูุญุฐู ุณูููู ุชููุงุฆูุงู

### โ ุญุฐู ูู ุงููุงุฌูุฉ ููุท
- ุงูุญุฐู ูุง ูุคุซุฑ ุนูู ุงููููุงุช ุงูุฃุตููุฉ
- ุงูุจูุงูุงุช ูุญููุธุฉ ูู `all_tenders.json`
- ูููู ุฅุนุงุฏุฉ ุฌูุจ ุงูููุงูุณุงุช ูู ุฃู ููุช

### โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ูุชุงุจุน ุงูุนูููุฉ ุญุชู ูู ุญุฏุซ ุฎุทุฃ ูู ููุงูุณุฉ ูุงุญุฏุฉ
- ูุนุฑุถ ุนุฏุฏ ุงูุฃุฎุทุงุก ูู ุงูููุฎุต
- ูุณุฌู ุงูุฃุฎุทุงุก ูู Console ููุชุชุจุน

---

## ุงูุณููุงุฑูููุงุช / Use Cases

### ุงูุณููุงุฑูู 1: ุชูุธูู ุณุฑูุน
```
ุงููุณุชุฎุฏู: ูุฏู 100 ููุงูุณุฉุ ุฃุฑูุฏ ููุท ุชูู ุงูุชู ูุง ุชุชุทูุจ ุชุตููู
ุงูุญู: ุงุถุบุท "ูุญุต ุงูุชุตููู ูุญุฐู ุงููุทููุจ"
ุงููุชูุฌุฉ: ูุจูู ููุท ุงูููุงูุณุงุช ุงูููุงุณุจุฉ
```

### ุงูุณููุงุฑูู 2: ูุญุต ุฏูุฑู
```
ุงููุณุชุฎุฏู: ุฃุฑูุฏ ูุญุต ุงูููุงูุณุงุช ุงูุฌุฏูุฏุฉ ููููุงู
ุงูุญู: 
  1. ุฌูุจ ุงูููุงูุณุงุช
  2. ูุญุต ุงูุชุตููู ุงูุฌูุงุนู
  3. ุชุญููู ุงููุฑููุงุช ููููุงูุณุงุช ุงููุชุจููุฉ
```

### ุงูุณููุงุฑูู 3: ุชุตููุฉ ูุชูุฏูุฉ
```
ุงููุณุชุฎุฏู: ุฃุฑูุฏ ุงูููุงูุณุงุช ุงูุชู:
  - ูุง ุชุชุทูุจ ุชุตููู
  - ูููุฉ ุงููุซุงุฆู < 300 ุฑูุงู
ุงูุญู:
  1. ูุญุต ุงูุชุตููู (ูุญุฐู ุงููุทููุจ)
  2. ุญุฐู ูุฏูู ููููุงูุณุงุช ุฐุงุช ุงููููุฉ ุงูุนุงููุฉ
```

---

## ุงูุงุฎุชุจุงุฑ / Testing

### ุงุฎุชุจุงุฑ ุฃุณุงุณู:
1. ุฌูุจ 10-20 ููุงูุณุฉ
2. ุงุถุบุท "ูุญุต ุงูุชุตููู ูุญุฐู ุงููุทููุจ"
3. ุชุฃูุฏ ูู:
   - ุธููุฑ ุฑุณุงูุฉ ุงูุชุฃููุฏ โ
   - ุชุญุฏูุซ ุงูุฒุฑ ุจุงูุชูุฏู โ
   - ุญุฐู ุงูููุงูุณุงุช ุงููุทููุจุฉ โ
   - ุชุญุฏูุซ ุงูุนุฏุงุฏ โ
   - ุธููุฑ ููุฎุต ุงููุชุงุฆุฌ โ

### ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก:
1. ุฌูุจ 50+ ููุงูุณุฉ
2. ูุณ ุงูููุช ุงููุณุชุบุฑู
3. ุชุฃูุฏ ูู ุนุฏู ุชุฌููุฏ ุงููุชุตูุญ
4. ุฑุงูุจ Console ููุฃุฎุทุงุก

### ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก:
1. ุงูุตู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
2. ุงุถุบุท "ูุญุต ุงูุชุตููู"
3. ุชุฃูุฏ ูู:
   - ุนุฑุถ ุงูุฃุฎุทุงุก ูู ุงูููุฎุต
   - ุนุฏู ุชุนุทู ุงููุงุฌูุฉ
   - ุฅููุงููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ

---

## ุงูุฎุทูุงุช ุงููุณุชูุจููุฉ / Future Enhancements

### ๐ ูุนุงูุฌุฉ ูุชูุงุฒูุฉ
- ูุญุต ุนุฏุฉ ููุงูุณุงุช ูู ููุณ ุงูููุช (ูุซูุงู 5 ูู ููุช ูุงุญุฏ)
- ุชูููู ุงูููุช ุงูููู

### ๐พ ุญูุธ ุงููุชุงุฆุฌ
- ุญูุธ ูุชุงุฆุฌ ุงููุญุต ูู ููู JSON
- ุชุฌูุจ ุฅุนุงุฏุฉ ูุญุต ููุณ ุงูููุงูุณุฉ

### ๐ฏ ุชุตููุฉ ูุชูุฏูุฉ
- ุฎูุงุฑุงุช ูุญุฐู ุญุณุจ ูุนุงููุฑ ุฅุถุงููุฉ:
  * ูููุฉ ุงููุซุงุฆู
  * ุงูุฌูุฉ ุงูุญููููุฉ
  * ููุน ุงูููุงูุณุฉ

### ๐ ุฅุญุตุงุฆูุงุช
- ููุญุฉ ูุนูููุงุช ุชุนุฑุถ:
  * ูุณุจุฉ ุงูููุงูุณุงุช ุงููุญุฐููุฉ
  * ุฃูุซุฑ ุงูุชุตูููุงุช ุดููุนุงู
  * ูุชูุณุท ููุช ุงููุญุต

---

## ุงูููุงุญุธุงุช / Notes

- โฑ๏ธ ุงูุนูููุฉ ูุฏ ุชุณุชุบุฑู ููุชุงู ุญุณุจ ุนุฏุฏ ุงูููุงูุณุงุช
- ๐ ูุชุทูุจ ุงุชุตุงู ุฅูุชุฑูุช ูุณุชูุฑ
- ๐ช ุชุฃูุฏ ูู ุตูุงุญูุฉ ุงูููููุฒ ูุจู ุงูุจุฏุก
- ๐ป ูุง ุชุบูู ุงููุชุตูุญ ุฃุซูุงุก ุงูุนูููุฉ

