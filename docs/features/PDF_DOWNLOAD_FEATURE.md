# ููุฒุฉ ุชุญููู ูุฑุงุณุฉ ุงูุดุฑูุท ูุงูููุงุตูุงุช ูู PDF

## ุงููุตู
ุชู ุชุญุณูู ุฒุฑ "๐ฅ ุชุญููู ุงููุฑููุงุช" ููููู ุงูุขู ุจูุธููุชูู:
1. **ุชุญููู ุงููุฑููุงุช ุงูุนุงุฏูุฉ** (ุฌุฏุงูู ุงููููุงุช ูุงููููุงุช ุงููุฑููุฉ)
2. **ุชุญููู ูุฑุงุณุฉ ุงูุดุฑูุท ูุงูููุงุตูุงุช ูููู PDF**

## ููู ุชุนููุ

### Frontend (JavaScript)
ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ "ุชุญููู ุงููุฑููุงุช"ุ ูููู ุงูุณูุฑูุจุช ุจู:

1. **ุงูุฎุทูุฉ 1: ุชุญููู ุงููุฑููุงุช ุงูุนุงุฏูุฉ**
   - ูุฑุณู ุทูุจ ุฅูู `/api/tender/${tenderId}/download`
   - ูุนุฑุถ ุฑุณุงูุฉ "โณ ุฌุงุฑู ุชุญููู ุงููุฑููุงุช..."

2. **ุงูุฎุทูุฉ 2: ุฌูุจ HTML ูู Etimad**
   - ูุญุตู ุนูู `tenderIdString` ูู ุจุทุงูุฉ ุงูููุงูุณุฉ
   - ูุฌูุจ ูุญุชูู HTML ูู:
     ```
     https://tenders.etimad.sa/Tender/PrintConditionsTemplateRfp?STenderId={tenderIdString}
     ```
   - ูุนุฑุถ ุฑุณุงูุฉ "โณ ุฌุงุฑู ุชุญููู ูุฑุงุณุฉ ุงูุดุฑูุท..."

3. **ุงูุฎุทูุฉ 3: ุชุญููู HTML ุฅูู PDF**
   - ูุฑุณู ูุญุชูู HTML ุฅูู `/api/tender/${tenderIdString}/download-pdf`
   - ูุณุชูุจู ููู PDF
   - ูุญููู ุงูููู ุชููุงุฆูุงู ุจุงุณู: `ูุฑุงุณุฉ_ุงูุดุฑูุท_ูุงูููุงุตูุงุช_{tenderIdString}.pdf`

4. **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**
   - ูุนุฑุถ ุฑุณุงูุฉ "โ ุชู ุงูุชุญููู ุจูุฌุงุญ"
   - ุงูุฒุฑ ูุนูุฏ ูุญุงูุชู ุงูุทุจูุนูุฉ ุจุนุฏ 3 ุซูุงูู

### Backend (Python/Flask)

#### Endpoint: `/api/tender/<tender_id_str>/download-pdf`
- **Method:** POST
- **Content-Type:** application/json
- **Body:**
  ```json
  {
    "html": "<!DOCTYPE html>..."
  }
  ```

**ุงูุฎุทูุงุช:**
1. ูุณุชูุจู ูุญุชูู HTML ูู ุงูู request
2. ูุณุชุฎุฏู ููุชุจุฉ `WeasyPrint` ูุชุญููู HTML ุฅูู PDF
3. ูุฑุณู ููู PDF ูู download
4. ุงุณู ุงูููู: `ูุฑุงุณุฉ ุงูุดุฑูุท ูุงูููุงุตูุงุช_{tender_id_str}.pdf`

## ุงููุชุทูุจุงุช ุงูุชูููุฉ

### Python Packages
```bash
pip install weasyprint==60.1
```

### ุงููููุงุช ุงููุนุฏูุฉ
- `app.py`: ุฅุถุงูุฉ endpoint `/api/tender/<tender_id_str>/download-pdf`
- `static/script.js`: ุชุนุฏูู ุฏุงูุฉ `downloadTenderDocs()`
- `requirements.txt`: ุฅุถุงูุฉ `weasyprint==60.1`

## ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุฅุฐุง ูุดู ุชุญููู PDF
- ุณูุธูุฑ ุชุญุฐูุฑ ูู ุงูู console
- ููู ุงููุฑููุงุช ุงูุนุงุฏูุฉ ุณุชูุญููู ุจูุฌุงุญ
- ุงูุฒุฑ ุณูุนุฑุถ "โ ุชู ุงูุชุญููู ุจูุฌุงุญ" (ูููุฑููุงุช)

### ุฅุฐุง ูู ุชูู WeasyPrint ูุซุจุชุฉ
- ุณูุธูุฑ ุฎุทุฃ: "WeasyPrint is not installed"
- ูุฌุจ ุชุซุจูุช ุงูููุชุจุฉ ุฃููุงู

## ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

1. ุงููุณุชุฎุฏู ููุชุญ ุงูุชุทุจูู ููุฌูุจ ุงูููุงูุตุงุช
2. ูุถุบุท ุนูู ุฒุฑ "๐ฅ ุชุญููู ุงููุฑููุงุช" ูุฃู ููุงูุตุฉ
3. ุงูุชุทุจูู ูููู ุจู:
   - ุชุญููู ุฌุฏุงูู ุงููููุงุช ูุงููุฑููุงุช ูู ูุฌูุฏ `downloads/`
   - ุชุญููู ููู PDF ููุฑุงุณุฉ ุงูุดุฑูุท ูุงูููุงุตูุงุช

## ููุงุญุธุงุช
- ุนูููุฉ ุงูุชุญููู ูู HTML ุฅูู PDF ูุฏ ุชุณุชุบุฑู ุซูุงูู ููููุฉ ุญุณุจ ุญุฌู ุงููุญุชูู
- ููู PDF ูุญุชูู ุนูู ูุงูู ูุญุชูู ูุฑุงุณุฉ ุงูุดุฑูุท ูุงูููุงุตูุงุช ุจุชูุณูู ูุงุจู ููุทุจุงุนุฉ
- ุงูู PDF ูุญุชูุธ ุจุงูุชูุณูู ูุงูุฌุฏุงูู ูุงูุตูุฑ ูู HTML ุงูุฃุตูู
